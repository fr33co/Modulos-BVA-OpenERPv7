<?xml version="1.0" encoding="utf-8"?>
<openerp>
	<data>

<!--Registro Observaciones de los Proyectos -->

		<record model="ir.actions.act_window" id="observaciones_proyectos_list_action">
		    <field name="name">Observaciones de los Proyectos </field>
		    <field name="res_model">observacion.proyecto</field>
		    <field name="view_type">form</field>
		    <field name="view_mode">tree,form</field>
		</record> 

<!--Form y Tree Observaciones de los Proyectos -->

		<record model="ir.ui.view" id="observaciones_proyectos_tree_view">
			<field name="name">Observaciones de los Proyectos </field>
			<field name="model">observacion.proyecto</field>
			<field name="arch" type="xml">
				<tree string="Observaciones" colors="red:estatus=='2';blue:estatus=='4';black:estatus=='1';green:estatus=='3'">
					<field name="codigo"/>
					<field name="nombre_pro"/>
					<field name="revisado"/>
					<field name="fecha"/>
					<field name="estatus"/>
				</tree>
			</field>			
		</record>
		<record model="ir.ui.view" id="observaciones_proyectos_form_view">
			<field name="name">Observaciones de los Proyectos</field>
			<field name="model">observacion.proyecto</field>
			<field name="arch" type="xml">
				<form string="Observaciones" version="7.0">
					<header>
						<button name="action_ajustar" type="object" string="Pre-Aprobar" class="ajuste"
						attrs="{'invisible':[('estatus','in', ('3','4'))]}"/>
						<button name="action_rechasado" type="object" string="Rechazar Proyecto" class="oe_highlight"
							attrs="{'invisible':[('estatus','in', ('1','2','3'))]}"/>
						<button name="action_aprobado" type="object" string="Aprobar" class="aprobado"
							attrs="{'invisible':[('estatus','in', ('1','2'))]}"/>
						<field name="estatus" widget="statusbar"/>
					</header>
					<field name="id" invisible="1"/>
					<div class="oe_form_sheetbg">
					<separator string="Datos del Proyecto"/>
					
					<table >
						<tr style="width:800px">
							<td style="width:75px">
								<b>Institución:</b>
							</td>
							<td style="width:300px">
								<field name="ente" style="width:95%%" placeholder="Seleccione la Institución"/>
							</td>
							<td  style="width:100px">
								<b>ID del Proyecto:</b>
							</td>
							<td style="width:100px">
								<field name="codigo" style="width:90%%"
								domain= "[('organismo','=',ente)]"
								on_change="on_change_proyecto(codigo)"/>
							</td>
							<td  style="width:55px">
								<b>Fecha:</b>
							</td>
							<td style="width:75px">
								<field name="fecha" style="width:95%%"/>
							</td>
						</tr>							
					</table>
					<table>
						<tr>
							<td style="width:140px">
								<b>Nombre del Proyecto:</b>
							</td>
							<td style="width:560px" >
								<field name="nombre_pro"/>
							</td>

						</tr>
					</table>
					<table>
						<tr style="width:850px">
							<td  style="width:80px">
								<b>Año Fiscal:</b>
							</td>
							<td style="width:100px">
								<field name="a_fiscal" style="width:50%%"/>
							</td>
							<td  style="width:120px">
								<b>Monto Solicitado:</b>
							</td>
							<td style="width:130px">
								<field name="monto_solicitado"/>
							</td>
						</tr>
					</table>
					<separator string="Observaciones/Correciones"/>
					<table>
						<tr>
							<td style="width:95px">
								<b>Revisado por:</b>
							</td>
							<td style="width:120px">
								<field name="revisado" style="width:90%%"/>
							</td>
							<td style="width:170px">
								<b>Fuente de Financiamiento:</b>
							</td>
							<td style="width:210px">
								<field name="fuente_fin"/>
							</td>
							<!--<td invisible="1">
								<field name="siglas"/>
							</td>-->
						</tr>
					</table>
					<separator />
					<b>Montos por partida:</b>
					<table  style="width:400px">
						<tr style="background-color:#2D77BE; color:white" >
							<td style="width:20px">
								<b>Código</b>
							</td>
							<td style="width:215px">
								<b>Nombre de la Partida</b>
							</td>
							<td style="width:80px">
								<b>Monto Asignado</b>
							</td>
						</tr>
						<tr>
							<td >
								<b>4.01</b>
							</td>
							<td>
								<b>Gastos de Personal</b>
							</td>
							<td>
								<field name="partida01" on_change="suma_partidas(partida01,partida02,partida03,partida04,partida05,partida07,partida10,partida11,partida12)" />
							</td>
						</tr>
						<tr>
							<td >
								<b>4.02</b>
							</td>
							<td>
								<b>Materiales, Suministros y Mercancías</b>
							</td>
							<td>
								<field name="partida02" on_change="suma_partidas(partida01,partida02,partida03,partida04,partida05,partida07,partida10,partida11,partida12)" />
							</td>
						</tr>
						<tr>
							<td>
								<b>4.03</b>
							</td>
							<td>
								<b>Servicios no personales</b>
							</td>
							<td>
								<field name="partida03" on_change="suma_partidas(partida01,partida02,partida03,partida04,partida05,partida07,partida10,partida11,partida12)" />
							</td>
						</tr>
						<tr>
							<td>
								<b>4.04</b>
							</td>
							<td>
								<b>Activos Reales</b>
							</td>
							<td>
								<field name="partida04" on_change="suma_partidas(partida01,partida02,partida03,partida04,partida05,partida07,partida10,partida11,partida12)" />
							</td>
						</tr>
						<tr>
							<td>
								<b>4.05</b>
							</td>
							<td>
								<b>Activos Financieros</b>
							</td>
							<td>
								<field name="partida05" on_change="suma_partidas(partida01,partida02,partida03,partida04,partida05,partida07,partida10,partida11,partida12)" />
							</td>
						</tr>
						<tr>
							<td>
								<b>4.07</b>
							</td>
							<td>
								<b>Transferencias y Donaciones</b>
							</td>
							<td>
								<field name="partida07" on_change="suma_partidas(partida01,partida02,partida03,partida04,partida05,partida07,partida10,partida11,partida12)"/>
							</td>
						</tr>
						<tr>
							<td>
								<b>4.10</b>
							</td>
							<td>
								<b>Servicio de la Deuda Pública</b>
							</td>
							<td>
								<field name="partida10" on_change="suma_partidas(partida01,partida02,partida03,partida04,partida05,partida07,partida10,partida11,partida12)"/>
							</td>
						</tr>
						<tr>
							<td>
								<b>4.11</b>
							</td>
							<td>
								<b>Disminución de Pasivos</b>
							</td>
							<td>
								<field name="partida11" on_change="suma_partidas(partida01,partida02,partida03,partida04,partida05,partida07,partida10,partida11,partida12)"/>
							</td>
						</tr>
						<tr>
							<td>
								<b>4.12</b>
							</td>
							<td>
								<b>Disminución de Patrimonio</b>
							</td>
							<td>
								<field name="partida12" on_change="suma_partidas(partida01,partida02,partida03,partida04,partida05,partida07,partida10,partida11,partida12)"/>
							</td>
						</tr>
						<tr style="background-color:#BFBFBF; color:black">
							<td  colspan="2">
								<b>Monto Total Asignado al Proyecto:</b>
							</td>
							<td style="width:105px">
								<b><field name="monto" /></b>
							</td>
						</tr>
					</table>
					<separator />
					<table>
						<tr>
							<b>Observaciones:</b>
						</tr>
						<tr>
							<td style="width:700px">
								<field name="observaciones"/>
							</td>
						</tr>
					</table>
					<footer >
						<button name="observacion_ajutes" type="object" string="Observaciones Preliminares" class="exportar"
							attrs="{'invisible':[('estatus','in', ('1','2'))]}"/>
						<button name="observaciones_finales" type="object" string="Observaciones Finales" class="exportar"
							attrs="{'invisible':[('estatus','in', ('1','2','3'))]}"/>
					</footer>
					</div>
				</form>
			</field>			
		</record>

<!--Registro Observaciones de Acciones Centralizadas -->

		<record model="ir.actions.act_window" id="observaciones_acciones_list_action">
		    <field name="name">Observaciones de las Acciones Centralizadas </field>
		    <field name="res_model">observacion.accion</field>
		    <field name="view_type">form</field>
		    <field name="view_mode">tree,form</field>
		</record> 

<!--Form y Tree Acciones Centralizadas-->

		<record model="ir.ui.view" id="observaciones_acciones_tree_view">
			<field name="name">Observaciones de Acciones Centralizadas </field>
			<field name="model">observacion.accion</field>
			<field name="arch" type="xml">
				<tree string="Observaciones" colors="red:estatus=='2';blue:estatus=='4';black:estatus=='1';green:estatus=='3'">
					<field name="codigo"/>
					<field name="accion_centra"/>
					<field name="revisado"/>
					<field name="fecha"/>
					<field name="estatus"/>
				</tree>
			</field>			
		</record>
		<record model="ir.ui.view" id="observaciones_acciones_form_view">
			<field name="name">Observaciones Acciones Centralizadas</field>
			<field name="model">observacion.accion</field>
			<field name="arch" type="xml">
				<form string="Observaciones" version="7.0">
					<header >
						<button name="action_ajustar" type="object" string="Pre-Aprobar" class="ajuste"
						attrs="{'invisible':[('estatus','in', ('3','4'))]}"/>
						<button name="action_rechasado" type="object" string="Rechazar Proyecto" class="oe_highlight"
							attrs="{'invisible':[('estatus','in', ('1','2','3'))]}"/>
						<button name="action_aprobado" type="object" string="Aprobar" class="aprobado"
							attrs="{'invisible':[('estatus','in', ('1','2'))]}"/>
						<field name="estatus" widget="statusbar"/>
					</header>
					<field name="id" invisible="1"/>
					<div class="oe_form_sheetbg">
					<table >
						<tr style="width:800px">
							<td style="width:75px">
								<b>Institución:</b>
							</td>
							<td style="width:300px">
								<field name="ente" style="width:95%%" placeholder="Seleccione la Institución"/>
							</td>
							<td  style="width:100px">
								<b>ID de la Acción:</b>
							</td>
							<td style="width:100px">
								<field name="codigo" style="width:90%%"
								domain= "[('organismo','=',ente)]"
								on_change="on_change_proyecto(codigo)"/>
							</td>
							<td  style="width:55px">
								<b>Fecha:</b>
							</td>
							<td style="width:75px">
								<field name="fecha" style="width:90%%"/>
							</td>
						</tr>							
					</table>
					<table>
						<tr>
							<td style="width:140px">
								<b>Nombre de la Acción:</b>
							</td>
							<td style="width:559px" >
								<field name="accion_centra"/>
							</td>

						</tr>
					</table>
					<table>
						<tr style="width:850px">
							<td  style="width:80px">
								<b>Año Fiscal:</b>
							</td>
							<td style="width:110px">
								<field name="a_fiscal" style="width:50%%"/>
							</td>
							<td  style="width:110px">
								<b>Monto Solicitado:</b>
							</td>
							<td style="width:125px">
								<field name="monto_solicitado"/>
							</td>
						</tr>
					</table>
					<table>
						<tr>
							<td style="width:90px">
								<b>Revisado por:</b>
							</td>
							<td style="width:120px">
								<field name="revisado" style="width:90%%"/>
							</td>
							<td invisible="1">
								<field name="siglas"/>
							</td>
						</tr>
					</table>
					<separator />
					<b>Montos por partida:</b>
					<table  style="width:400px">
						<tr style="background-color:#2D77BE; color:white" >
							<td style="width:20px">
								<b>Código</b>
							</td>
							<td style="width:215px">
								<b>Nombre de la Partida</b>
							</td>
							<td style="width:80px">
								<b>Monto Asignado</b>
							</td>
						</tr>
						<tr attrs="{'invisible':[('accion_centra','!=', ('Dirección y coordinación de los gastos de los trabajadores'))]}">
							<td >
								<b>4.01</b>
							</td>
							<td>
								<b>Gastos de Personal</b>
							</td>
							<td>
								<field name="partida01" on_change="suma_partidas(partida01,partida02,partida03,partida04,partida05,partida07,partida10,partida11,partida12)" />
							</td>
						</tr>
						<tr attrs="{'invisible':[('accion_centra','!=', ('Gestión Administrativa'))]}">
							<td >
								<b>4.02</b>
							</td>
							<td>
								<b>Materiales, Suministros y Mercancías</b>
							</td>
							<td>
								<field name="partida02" on_change="suma_partidas(partida01,partida02,partida03,partida04,partida05,partida07,partida10,partida11,partida12)" />
							</td>
						</tr>
						<tr attrs="{'invisible':[('accion_centra','!=',('Gestión Administrativa')), ('accion_centra','!=',('Previsión y protección social')),('accion_centra','!=',('Dirección y coordinación de los gastos de los trabajadores'))]}">
							<td>
								<b>4.03</b>
							</td>
							<td>
								<b>Servicios no personales</b>
							</td>
							<td>
								<field name="partida03" on_change="suma_partidas(partida01,partida02,partida03,partida04,partida05,partida07,partida10,partida11,partida12)" />
							</td>
						</tr>
						<tr attrs="{'invisible':[('accion_centra','!=', ('Gestión Administrativa'))]}">
							<td>
								<b>4.04</b>
							</td>
							<td>
								<b>Activos Reales</b>
							</td>
							<td>
								<field name="partida04" on_change="suma_partidas(partida01,partida02,partida03,partida04,partida05,partida07,partida10,partida11,partida12)" />
							</td>
						</tr>
						<tr attrs="{'invisible':[('accion_centra','!=', ('Gestión Administrativa')), ('accion_centra','!=', ('Dirección y coordinación del servicio de la deuda pública nacional'))]}">
							<td>
								<b>4.05</b>
							</td>
							<td>
								<b>Activos Financieros</b>
							</td>
							<td>
								<field name="partida05" on_change="suma_partidas(partida01,partida02,partida03,partida04,partida05,partida07,partida10,partida11,partida12)" />
							</td>
						</tr>
						<tr attrs="{'invisible':[('accion_centra','!=', ('Gestión Administrativa')), ('accion_centra','!=', ('Dirección y coordinación del servicio de la deuda pública nacional')),
						('accion_centra','!=', ('Asignaciones predeterminadas')),('accion_centra','!=', ('Previsión y protección social'))]}">
							<td>
								<b>4.07</b>
							</td>
							<td>
								<b>Transferencias y Donaciones</b>
							</td>
							<td>
								<field name="partida07" on_change="suma_partidas(partida01,partida02,partida03,partida04,partida05,partida07,partida10,partida11,partida12)"/>
							</td>
						</tr>
						<tr attrs="{'invisible':[('accion_centra','!=', ('Dirección y coordinación del servicio de la deuda pública nacional'))]}">
							<td>
								<b>4.10</b>
							</td>
							<td>
								<b>Servicio de la Deuda Pública</b>
							</td>
							<td>
								<field name="partida10" on_change="suma_partidas(partida01,partida02,partida03,partida04,partida05,partida07,partida10,partida11,partida12)"/>
							</td>
						</tr>
						<tr attrs="{'invisible':[('accion_centra','!=', ('Gestión Administrativa')), ('accion_centra','!=', ('Dirección y coordinación del servicio de la deuda pública nacional'))]}">
							<td>
								<b>4.11</b>
							</td>
							<td>
								<b>Disminución de Pasivos</b>
							</td>
							<td>
								<field name="partida11" on_change="suma_partidas(partida01,partida02,partida03,partida04,partida05,partida07,partida10,partida11,partida12)"/>
							</td>
						</tr>
						<tr attrs="{'invisible':[('accion_centra','!=', ('Gestión Administrativa'))]}">
							<td>
								<b>4.12</b>
							</td>
							<td>
								<b>Disminución de Patrimonio</b>
							</td>
							<td>
								<field name="partida12" on_change="suma_partidas(partida01,partida02,partida03,partida04,partida05,partida07,partida10,partida11,partida12)"/>
							</td>
						</tr>
						<tr style="background-color:#BFBFBF; color:black">
							<td  colspan="2">
								<b>Monto Total Asignado al Proyecto:</b>
							</td>
							<td style="width:105px">
								<b><field name="monto" /></b>
							</td>
						</tr>
					</table>
					<separator/>
					<table>
						<tr>
							<b>Observaciones:</b>
						</tr>
						<tr>
							<td style="width:700px">
								<field name="observaciones"/>
							</td>
						</tr>
					</table>
					<footer >
						<button name="observacion_ajutes" type="object" string="Observaciones Preliminares" class="exportar"
							attrs="{'invisible':[('estatus','in', ('1','2'))]}"/>
						<button name="observaciones_finales" type="object" string="Observaciones Finales" class="exportar"
							attrs="{'invisible':[('estatus','in', ('1','2','3'))]}"/>
					</footer>
					</div>
				</form>
			</field>			
		</record>

		
	<menuitem id="observaciones_acciones_menu" name="Observaciones" parent="accion_centralizada_menu" action="observaciones_acciones_list_action" sequence="2"/>
	<menuitem id="observaciones_proyectos_menu" name="Observaciones" parent="proyecto_conaplan_menu" action="observaciones_proyectos_list_action" sequence="2"/>

		
	</data>
</openerp>
